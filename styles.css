:root{
  --bg:#f7f9ff;
  --card:#ffffff;
  --text:#0a0f1c;
  --muted:#5c667a;

  --royal:#1b2a6b;
  --royal2:#2a3b86;
  --gold:#b08d57;

  --danger:#b91c1c;
  --ok:#047857;
  --warn:#7a5b2a;

  --shadow: 0 18px 60px rgba(15,23,42,.10);
  --shadow2: 0 10px 26px rgba(15,23,42,.08);
  --radius: 18px;
}

*{box-sizing:border-box;}
html,body{height:100%;}

body{
  margin:0;
  font-family:"Manrope",ui-sans-serif,system-ui,-apple-system,Segoe UI,Roboto,Helvetica,Arial;
  color:var(--text);
  background:
    radial-gradient(900px 600px at 20% -10%, rgba(27,42,107,.12), transparent 60%),
    radial-gradient(850px 600px at 90% 10%, rgba(176,141,87,.08), transparent 55%),
    var(--bg);
}

.hidden{display:none!important;}

.topbar{
  position:sticky; top:0;
  background: rgba(247,249,255,.88);
  -webkit-backdrop-filter: blur(10px);
  backdrop-filter: blur(10px);
  border-bottom:1px solid rgba(27,42,107,.12);
  display:flex; align-items:center; justify-content:space-between;
  padding:14px 18px;
  z-index:50;
}

.topbar::after{
  content:"";
  position:absolute; left:0; right:0; bottom:-1px;
  height:2px;
  background: linear-gradient(90deg, transparent, rgba(27,42,107,.55), rgba(176,141,87,.35), rgba(27,42,107,.55), transparent);
  opacity:.45;
}

.brand{display:flex; gap:12px; align-items:center;}
.logo{
  width:42px; height:42px;
  border-radius:14px;
  background: linear-gradient(135deg, var(--royal), var(--royal2));
  display:flex; align-items:center; justify-content:center;
  font-weight:900; color:#fff;
  box-shadow:0 0 0 1px rgba(176,141,87,.35) inset, 0 14px 30px rgba(27,42,107,.18);
}
.title{font-weight:900;}
.subtitle{color:var(--muted); font-size:12px; margin-top:2px;}

.topbar-actions{display:flex; gap:10px; align-items:center;}
.chip{
  border:1px solid rgba(27,42,107,.16);
  background: rgba(255,255,255,.80);
  padding:8px 10px;
  border-radius:999px;
  font-size:12px;
  color:var(--muted);
}

.container{max-width:1100px; margin:18px auto 40px; padding:0 16px;}

.card{
  background:var(--card);
  border:1px solid rgba(27,42,107,.12);
  border-radius:var(--radius);
  box-shadow:var(--shadow);
  padding:18px;
  margin-bottom:18px;
  position:relative;
}

.card::before{
  content:"";
  position:absolute; top:10px; right:10px;
  width:70px; height:70px;
  border-radius:18px;
  background: radial-gradient(circle at 30% 30%, rgba(176,141,87,.16), rgba(27,42,107,.06), transparent 70%);
  opacity:.45;
  pointer-events:none;
}

.muted{color:var(--muted);}

label{
  display:block;
  font-size:12px;
  color:var(--muted);
  margin-bottom:6px;
  font-weight:800;
  letter-spacing:.15px;
}

input,select{
  width:100%;
  padding:10px 12px;
  border-radius:12px;
  border:1px solid rgba(27,42,107,.16);
  background:#fff;
  color:var(--text);
  outline:none;
  transition: box-shadow .15s ease, border-color .15s ease;
}

input:focus,select:focus{
  border-color: rgba(27,42,107,.42);
  box-shadow: 0 0 0 4px rgba(27,42,107,.10), 0 0 0 1px rgba(176,141,87,.18) inset;
}

small.muted{display:block; margin-top:6px;}

.row{display:flex; gap:10px; align-items:center; margin-top:12px;}
.row.wrap{flex-wrap:wrap;}
.spacer{flex:1;}
.control{min-width:220px;}

.btn{
  border:none;
  padding:10px 12px;
  border-radius:12px;
  background: linear-gradient(135deg, var(--royal), var(--royal2));
  color:white;
  font-weight:900;
  cursor:pointer;
  box-shadow:0 12px 26px rgba(27,42,107,.18), 0 0 0 1px rgba(176,141,87,.20) inset;
  transition: transform .12s ease, filter .12s ease, box-shadow .12s ease;
}
.btn:hover{filter:brightness(1.02); box-shadow:0 14px 30px rgba(27,42,107,.22), 0 0 0 1px rgba(176,141,87,.25) inset;}
.btn:active{transform:translateY(1px);}
.btn.outline{
  background:transparent;
  color:var(--royal);
  border:1px solid rgba(27,42,107,.40);
  box-shadow:0 8px 20px rgba(15,23,42,.04);
}
.btn.ghost{
  background: rgba(27,42,107,.06);
  color: var(--royal);
  border:1px solid rgba(27,42,107,.16);
  box-shadow:none;
}

.iconBtn{
  border:none;
  background: rgba(27,42,107,.06);
  border:1px solid rgba(27,42,107,.16);
  color:var(--royal);
  padding:8px 10px;
  border-radius:12px;
  cursor:pointer;
  font-weight:900;
}
.iconBtn.danger{
  border-color: rgba(185,28,28,.22);
  background: rgba(185,28,28,.06);
  color: var(--danger);
}

.pill{
  font-size:12px;
  padding:7px 10px;
  border-radius:999px;
  border:1px solid rgba(27,42,107,.18);
  background: rgba(27,42,107,.06);
  color: var(--royal);
  font-weight:900;
}

.hint{
  margin-top:10px;
  border-left:4px solid rgba(27,42,107,.70);
  padding:10px 12px;
  background: rgba(27,42,107,.05);
  border-radius:12px;
  color:var(--muted);
}
.hint::before{
  content:"";
  display:inline-block;
  width:8px; height:8px;
  border-radius:999px;
  background: rgba(176,141,87,.75);
  margin-right:8px;
  vertical-align: middle;
}

.sep{border:none; border-top:1px solid rgba(27,42,107,.12); margin:14px 0;}

.tabs{display:flex; gap:10px; margin:12px 0 8px; flex-wrap:wrap;}
.tab{
  background:#fff;
  border:1px solid rgba(27,42,107,.14);
  color:var(--text);
  border-radius:999px;
  padding:9px 12px;
  cursor:pointer;
  font-weight:900;
}
.tab:hover{border-color: rgba(27,42,107,.30); box-shadow:0 10px 22px rgba(15,23,42,.06);}
.tab.active{
  border-color: rgba(27,42,107,.45);
  box-shadow: 0 0 0 4px rgba(27,42,107,.10), 0 0 0 1px rgba(176,141,87,.12) inset;
  color: var(--royal);
}
.tabpane{display:none;}
.tabpane.active{display:block;}

.grid2{display:grid; grid-template-columns:1fr 1fr; gap:12px; margin-top:10px;}
.grid3{display:grid; grid-template-columns:1fr 1fr 220px; gap:12px; margin-top:10px;}

.cardInner{
  border:1px solid rgba(27,42,107,.12);
  border-radius:16px;
  background:#fff;
  padding:14px;
  box-shadow:var(--shadow2);
}

.kpiRow{display:grid; grid-template-columns:1fr 1fr 1fr; gap:12px;}
.kpi{
  border-radius:16px;
  border:1px solid rgba(27,42,107,.12);
  background: linear-gradient(180deg, rgba(27,42,107,.05), #fff);
  padding:14px;
  box-shadow:var(--shadow2);
}
.kpiLabel{color:#334155; font-size:12px; font-weight:900;}
.kpiValue{font-size:28px; font-weight:900; margin-top:4px;}
.kpiHint{font-size:12px; margin-top:4px; color:var(--muted);}

.gridCharts{display:grid; grid-template-columns:1fr 1fr; gap:12px; margin-top:12px;}
.chartCard{
  border-radius:16px;
  border:1px solid rgba(27,42,107,.12);
  background:#fff;
  padding:12px;
  box-shadow:var(--shadow2);
}
.chartCard.full{grid-column:1 / -1;}
.chartTitle{font-weight:900; margin-bottom:8px; color:#334155; font-size:12px; letter-spacing:.2px;}

.tableWrap{
  margin-top:12px;
  overflow:auto;
  border-radius:14px;
  border:1px solid rgba(27,42,107,.12);
  box-shadow:var(--shadow2);
}

.table{
  width:100%;
  border-collapse:collapse;
  min-width:880px;
  background:#fff;
}
.table th,.table td{
  padding:10px 10px;
  border-bottom:1px solid rgba(12,24,54,.10);
  vertical-align:middle;
}
.table th{
  text-align:left;
  font-size:12px;
  color:#334155;
  position:sticky;
  top:0;
  background: rgba(255,255,255,.94);
  -webkit-backdrop-filter: blur(8px);
  backdrop-filter: blur(8px);
}

/* Monthly table widths */
.table-monthly .col-m-group{width:16%;}
.table-monthly .col-m-category{width:22%;}
.table-monthly .col-m-type{width:10%;}
.table-monthly .col-m-planned{width:12%;}
.table-monthly .col-m-actual{width:12%;}
.table-monthly .col-m-diff{width:14%;}
.table-monthly .col-m-status{width:10%;}
.table-monthly .col-m-actions{width:4%;}

/* Plan */
.table-plan .col-p-group{width:26%;}
.table-plan .col-p-category{width:32%;}
.table-plan .col-p-type{width:18%;}
.table-plan .col-p-planned{width:18%;}
.table-plan .col-p-actions{width:6%;}

/* Transactions */
.table-tx .col-t-date{width:16%;}
.table-tx .col-t-type{width:16%;}
.table-tx .col-t-group{width:18%;}
.table-tx .col-t-category{width:22%;}
.table-tx .col-t-amount{width:14%;}
.table-tx .col-t-month{width:10%;}
.table-tx .col-t-actions{width:4%;}

/* Category table */
.table-cats{min-width:620px;}
.table-cats th,.table-cats td{white-space:nowrap;}

/* Life tab tables */
.table-bills{min-width:620px;}
.table-debts{min-width:740px;}
.table-funds{min-width:740px;}
.table-vehicles{min-width:780px;}
.table-rec{min-width:820px;}

.badge{
  display:inline-flex;
  align-items:center;
  padding:6px 10px;
  border-radius:999px;
  border:1px solid rgba(27,42,107,.16);
  background: rgba(27,42,107,.06);
  color: var(--royal);
  font-weight:900;
  font-size:12px;
}
.badge.ok{border-color: rgba(4,120,87,.18); background: rgba(4,120,87,.08); color: var(--ok);}
.badge.warn{border-color: rgba(176,141,87,.20); background: rgba(176,141,87,.10); color: var(--warn);}
.badge.bad{border-color: rgba(185,28,28,.22); background: rgba(185,28,28,.08); color: var(--danger);}

.money{font-variant-numeric: tabular-nums; font-weight:900;}
.money.neg{color:var(--danger);}
.money.pos{color:var(--ok);}

/* Forms inside Life tab */
.gridBills{display:grid; grid-template-columns: 1fr 1fr; gap:10px; margin-top:10px;}
.gridDebts{display:grid; grid-template-columns: 1fr 1fr; gap:10px; margin-top:10px;}
.gridFunds{display:grid; grid-template-columns: 1fr 1fr; gap:10px; margin-top:10px;}
.gridVehicle{display:grid; grid-template-columns: 1fr 1fr; gap:10px; margin-top:10px;}
.gridRec{display:grid; grid-template-columns: 1fr 1fr; gap:10px; margin-top:10px;}

.footer{
  text-align:center;
  padding:18px 10px 30px;
  border-top:1px solid rgba(27,42,107,.10);
  background: rgba(247,249,255,.70);
}

@media (max-width: 980px){
  .gridCharts{grid-template-columns:1fr;}
  .kpiRow{grid-template-columns:1fr;}
  .grid2{grid-template-columns:1fr;}
  .grid3{grid-template-columns:1fr;}
  .gridBills,.gridDebts,.gridFunds,.gridVehicle,.gridRec{grid-template-columns:1fr;}
}
